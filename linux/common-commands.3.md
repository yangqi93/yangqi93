@@ -1,377 +0,0 @@
# Linux 常用命令

文件目录操作目录(folder operating)
--------

```
mv      移动文件或者将文件改名
-f      禁止交互操作，在mv操作要覆盖已有的目标文件时不给任何提示而直接覆盖目标文件。
-u      只有在源文件比目标文件新，或者目标文件不存在时，才执行移动功能
cp      复制文件或者目录
touch   修改文件时间戳/创建一个不存在的文件
cat     显示整个文件/创建一个文件/几个文件合并为一个文件
mkdir   创建目录
rm      删除文件和目录
rmdir   删除空目录
head    显示文件的开头
tail    显示指定文件末尾内容
less    linux正统查看文件内容的工具
more    按也来查看文件内容
nl      计算文件中行号
ls      列出目标目录中所有的子目录和文件
cd      切换当前目录
pwd     查看当前目录的完整路径
```

文件查找命令(file find)
----------

```
find        实际搜寻硬盘查询文件名称
locate      配合数据库查看文件位置
which       查看可执行文件的位置
whereis     查看文件的位置

如果你想在当前目录下 查找"hello,world!"字符串,可以这样:
 
grep -rn "hello,world!" *
 
*   表示当前目录所有文件，也可以是某个文件名
-r  是递归查找
-n  是显示行号
-R  查找所有文件包含子目录
-i  忽略大小写
```

压缩解压(zip)
--------

```
gzip
tar
zip
```

文件权限(chmod)
----------

```
chown    更改制定文件的属主或属组
chmod    改变文件或目录的权限
chgrp    更改制定目录属组
```

磁盘存储相关(file save)
-------

```
df
-a   显示所有本机和已挂载文件系统的信息，包括0区块的文件系统，例如/proc、/sys、/dev/pts等。
-i   显示各文件系统的inode使用情况。
-k   显示磁盘空间使用情况，以KB为单位显示。
-t   列出所有属于指定文件系统类型的磁盘分区空间的使用情况。
-x   列出所有不属于指定文件系统类型的磁盘分区空间的使用情况。
-T   列出每个磁盘分区所安装的文件系统名称。
-l   仅列出本机的文件系统信息。
-H   等于“-h”，但是计算式，1K=1000，而不是1K=1024

du
-b：以字节为单位显示文件或目录的实际大小。
-c：在显示信息的最后加一个统计行。
-h：在显示的大小后加上K（KB）、M（MB）、G（GB）等单位标记，以提高信息的可读性。
-s：只列出文件或目录的总计行。
-x：只列出属于同一文件系统的文件和目录信息。
```

性能监控和优化命令(performance)
-------

```
vmstat    对操作系统的虚拟内存、进程、CPU活动进行监控
lsof      列出当前系统打开文件的工具

top       实时显示系统中各个进程的资源占用情况
- 1.作用
    top命令用来显示执行中的程序进程，使用权限是所有用户。
- 2.格式
    top [－] [d delay] [q] [c] [S] [s] [n]
3.主要参数
    d   指定更新的间隔，以秒计算。
    q   没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。
    c   显示进程完整的路径与名称。
    S   累积模式，会将己完成或消失的子行程的CPU时间累积起来。
    s   安全模式。
    i   不显示任何闲置(Idle)或无用(Zombie)的行程。
    n   显示更新的次数，完成后将会退出top。
4.说明
    top命令是Linux系统管理的一个主要命令，通过它可以获得许多信息。这里我们结合图1来说明它给出的信息。
图1 top命令的显示
在图1中，第一行表示的项目依次为当前时间、系统启动时间、当前系统登录用户数目、平均负载。
        第二行显示的是所有启动的进程、目前运行的、挂起(Sleeping)的和无用(Zombie)的进程。
        第三行显示的是目前CPU的使用情况，包括系统占用的比例、用户使用比例、闲置(Idle)比例。
        第四行显示物理内存的使用情况，包括总的可以使用的内存、已用内存、空闲内存、缓冲区占用的内存。第五行显示交换分区使用情况，包括总的交换分区、使用的、空闲的和用于高速缓存的大小。第六行显示的项目最多，下面列出了详细解释。
PID     （Process ID）：进程标示号。
USER    进程所有者的用户名。
PR      进程的优先级别。
NI      进程的优先级别数值。
VIRT    进程占用的虚拟内存值。
RES     进程占用的物理内存值。
SHR     进程使用的共享内存值。
S       进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。
%CPU    该进程占用的CPU使用率。
%MEM    该进程占用的物理内存和总内存的百分比。
TIME＋  该进程启动后占用的总的CPU时间。
Command 进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。

top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。
：立刻刷新。
P       根据CPU使用大小进行排序。
T       根据时间、累计时间排序。
q       退出top命令。
m       切换显示内存信息。
t       切换显示进程和CPU状态信息。
c       切换显示命令名称和完整命令行。
M       根据使用内存大小进行排序。
W       将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。

可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。

free    显示系统使用和空闲的内存情况
```


网络命令(niternet)
-----------

```
netstat    显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检测本机各端口的网络连接情况
1.作用
检查整个Linux网络状态。 
2.格式
netstat [-acCeFghilMnNoprstuvVwx][-A][--ip]
3.主要参数
-a--all         显示所有连线中的Socket。
-A              列出该网络类型连线中的IP相关地址和网络类型。
-c --continuous  持续列出网络状态。
-C --cache       显示路由器配置的快取信息。
-e --extend      显示网络其它相关信息。
-F --fib         显示FIB。
-g --groups      显示多重广播功能群组组员名单。
-h --help        在线帮助。
-i --interfaces  显示网络界面信息表单。
-l --listening   显示监控中的服务器的Socket。
-M --masquerade  显示伪装的网络连线。
-n --numeric     直接使用IP地址，而不通过域名服务器。
-N --netlink --symbolic           显示网络硬件外围设备的符号连接名称。
-o --timers      显示计时器。
-p --programs    显示正在使用Socket的程序识别码和程序名称。
-r --route       显示Routing Table。
-s --statistice  显示网络工作信息统计表。
-t --tcp         显示TCP传输协议的连线状况。
-u --udp         显示UDP传输协议的连线状况。
-v --verbose     显示指令执行过程。
-V --version     显示版本信息。
-w --raw         显示RAW传输协议的连线状况。
-x --unix        和指定“-A unix”参数相同。
--ip --inet      和指定“-A inet”参数相同。

ss        获取socket统计信息、类似于netstat输出的内容，更快更高效
telnet    登入远端主机
rcp       代表remote file copy(远程文件拷贝)
scp       secure copy 基于ssh登录进行安全的远程文件拷贝命令
ifconfig  查看和配置网络设备
iwconfig  查看和配置无线网络设备
route     显示和操作IP路由器
traceroute    追踪网络数据包的路由途径
ping      测试与目标主机的连通性
```

其他命令(other)
---------

```
date    显示或设定系统的日期与时间
cal        查看日历等时间信息
wc        统计指定文件的字节数、字数、行数
watch    周期性执行命令/定时执行命令
ln        建立一个同步的链接（link）
diff    比较单个文件或者目录内容
grep    使用正则表达式搜索文本
ps        显示当前进程的状态
```

文件相关(file)
------

```
head    显示文件的开头
tail    显示指定文件末尾内容
+N        从第N行开始显示
-N        显示最后N行
-f        循环查看文件内容（刷新显示）
--pid=PID    与-f合用,表示在进程ID,PID死掉之后结束.

df -h
查看目录大小 
sudo du -h --max-depth=1 /
```

查找命令(find)
------

```
`find`
find / -amin -10 # 查找在系统中最后10分钟访问的文件 
find / -atime -2 # 查找在系统中最后48小时访问的文件 
find / -empty # 查找在系统中为空的文件或者文件夹 
find / -group cat # 查找在系统中属于 groupcat的文件 
find / -mmin -5 # 查找在系统中最后5分钟里修改过的文件 
find / -mtime -1 #查找在系统中最后24小时里修改过的文件 
find / -nouser #查找在系统中属于作废用户的文件 
find / -user fred #查找在系统中属于FRED这个用户的文件 

`grep`    使用正则表达式搜索文本

pattern正则表达式主要参数：
\：忽略正则表达式中特殊字符的原有含义。
^：匹配正则表达式的开始行。
$: 匹配正则表达式的结束行。
\：到匹配正则表达式的行结束。
：单个字符，如[A]即A符合要求 。
[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。
。：所有的单个字符。
* ：有字符，长度可以为0。
正
则表达式是Linux/Unix系统中非常重要的概念。正则表达式（也称为“regex”或“regexp”）是一个可以描述一类字符串的模式
（Pattern）。如果一个字符串可以用某个正则表达式来描述，我们就说这个字符和该正则表达式匹配（Match）。这和DOS中用户可以使用通配符
“*”代表任意字符类似。在Linux系统上，正则表达式通常被用来查找文本的模式，以及对文本执行“搜索－替换”操作和其它功能。
```

vim 操作(vim)
---------

```
set nu
set nonu
.swp
http://i3.go2yd.com/image.php?url=0E16hGMgKD
xargs

：s/p1/p2/g：将当前行中所有p1均用p2替代 
：n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代 
：g/p1/s//p2/g：将文件中所有p1均用p2替换 
：n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下 
：n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下 
：n1,n2 d ：将n1行到n2行之间的内容删除 
```

文件统计(file count)
----

```
wc        统计指定文件的字节数、字数、行数
-c：显示文件的字节数。
-m：显示文件的字符数。字符数可能不等于字节数，因为有的字符编码方案中1个字符用2个或多个字节表示。
-l：显示文件的行数。
-w：显示文件的字数。
-L：显示文件中最长行的长度。
```

日期(date)
----

```
date    显示或设定系统的日期与时间
date +%s -d "2015-10-20"
date -d @12345678901
```

实例(example)
----

```
修复report、report_hour两张表中的同一天的reg_num数据不统一
for v in `seq 0 100`;do java joyport.hbase.Run pop.ReportHour -hour `date +"%Y-%m-%d %H" -d "2015-05-01 +$v hour"`;done
105 106 服务器  修改日志名字
for v in `seq 0 23`;do mv pop_click/2015-09-01-`printf "%02d\n" $v`.log.COMPLETE  pop_click/2015-09-01-`printf "%02d\n" $v`.log;done 
```

对比文件(compared)
------

```
comm
对比两个文件中相同数据  排序  去重  循环放到变量row中 并写入到 out.log
comm u2.log u3.log -1 -2|sort |uniq|while read row;do grep $row 2.log;done > out.log
cat username0.log username1.log |sort|uniq -d|head

选项1、2或3抑制相应的列显示。例如
comm - 12就只显示在两个文件中都存在的行；
comm - 23只显示在第一个文件中出现而未在第二个文件中出现的行；
comm - 123则什么也不显示。
```

```
diff    比较单个文件或者目录内容
1.作用
diff命令用于两个文件之间的比较，并指出两者的不同，它的使用权限是所有用户。
2.格式
diff [options] 源文件 目标文件
3.[options]主要参数
-a：将所有文件当作文本文件来处理。
-b：忽略空格造成的不同。
-B：忽略空行造成的不同。
-c：使用纲要输出格式。
-H：利用试探法加速对大文件的搜索。
-I：忽略大小写的变化。
-n --rcs：输出RCS格式。
```

```
cmp
cmp（“compare”的缩写）命令用来简要指出两个文件是否存在差异，它的使用权限是所有用户。
-l: 将字节以十进制的方式输出，并方便将两个文件中不同的以八进制的方式输出
-s     只返回退出值。值 0 指示相同的文件；值 1 指示不同的文件；值 2 指示不可访问的文件或缺少选项。

该命令返回以下退出值：
0     文件相同。
1     文件不同。即使一个文件是另一个文件的初始后继（一个文件与另一个文件的第一个部分相同），也给出该值。
>1     发生错误。
示例
   1. 要确定两个文件是否相同，请输入：
      cmp prog.o.bak prog.o
      这比较 prog.o.bak 和 prog.o。如果文件相同，则不显示消息。如果文件不同，则显示第一个不同的位置；例如：
      prog.o.bak prog.o differ: char 4, line 1
      如果显示消息 cmp: EOF on prog.o.bak，则 prog.o 的第一部分与 prog.o.bak 相同，但在 prog.o 中还有其他数据。
   2. 要显示不同字节的每个对，请输入：
cmp -l prog.o.bak prog.o
这比较文件，然后显示字节数（使用十进制格式）和每个不同的不同字节（使用八进制格式）。例如，如果第五个字节在 prog.o.bak 中是八进制 101，在 prog.o 中是 141，则 cmp 命令显示：
      5 101 141
   3. 要比较两个文件，而不写任何消息，请输入：
      cmp -s prog.c.bak prog.c
这样，如果文件相同，则给出值 0，如果不同，则给出值 1，或者如果发生错误，则给出值 2。该命令形式通常用在 shell 步骤中。例如：
      if cmp -s prog.c.bak prog.c
then
echo No change
fi
如果两个文件相同，则该部分的 shell 步骤显示 No change。
http://blog.csdn.net/giegie/article/details/6199634
```

系统相关(os)
-----

```
kill
uptime    命令用于查看系统负载情况，输出内容分别为系统当前时间，系统已运行时间，当前在线用户以及平均负载值
last    命令用于查看所有系统的登入纪录
seq
sort

/bin 目录下自定义命令  编写shell 赋予权限  755
bc


linux下去掉文件中^M的方法
sed -i 's/\r//g' filename
```